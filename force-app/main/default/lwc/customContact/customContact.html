<template>
	<!------ Search Bar ------------------------->
	<lightning-card>
		<div class="slds-grid slds-wrap slds-card__body_inner">
			<div class="slds-col slds-size_1-of-3" style="padding-left: 0.5rem;">
				<lightning-input type="text" label="Search" value={searchKey} onchange={handleSearchKeyChange}>
				</lightning-input>
			</div>

			<lightning-layout-item size="7" flexibility="auto" padding="horizontal-small" class="slds-text-align_right">
				<lightning-button label="Create Contact" variant="brand" onclick={openModal}
					class="slds-m-left_x-small">
				</lightning-button>
			</lightning-layout-item>
			<template if:true={isModalOpen}>
				<!-- Modal/Popup Box LWC starts here -->
				<section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
					aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
					<div class="slds-modal__container">
						<!-- Modal/Popup Box LWC header here -->
						<header class="slds-modal__header">
							<button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModal}>
                        <lightning-icon icon-name="utility:close"
                            alternative-text="close"
                            variant="inverse"
                            size="small" ></lightning-icon>
                        <span class="slds-assistive-text">Close</span>
                    </button>
							<h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">New Contact</h2>
						</header>
						<!-- Modal/Popup Box LWC body starts here -->
						<lightning-card>
							<div class="slds-p-horizontal_small">
								<lightning-input label="First Name" value={firstname} onchange={contactHandleChange}
									class="slds-m-bottom_x-small slds-p-horizontal_small slds-form-element">
								</lightning-input>
								<lightning-input label="Last Name" value={lastname} onchange={contactHandleChange}
									class="slds-m-bottom_x-small slds-p-horizontal_small slds-form-element" required>
								</lightning-input>
								<lightning-input label="Phone" value={phone} onchange={contactHandleChange}
									class="slds-m-bottom_x-small slds-p-horizontal_small slds-form-element">
								</lightning-input>
								<lightning-input label="Email" value={email} onchange={contactHandleChange}
									class="slds-m-bottom_x-small slds-p-horizontal_small slds-form-element">
								</lightning-input>
							</div>

							<footer class="slds-modal__footer">
								<lightning-button label="Submit" variant="brand" onclick={createLookupContactAction}
									class="slds-m-bottom_x-small slds-p-horizontal_small slds-form-element">
								</lightning-button>
							</footer>
						</lightning-card>
					</div>
				</section>
				<div class="slds-backdrop slds-backdrop_open"></div>
			</template>
		</div>
	</lightning-card>
	<!------ /Search Bar ------------------------->

	<!------ Custom Datatable with field set ------------------------->

	<lightning-card variant="Narrow" title="Contacts created using Field Set in Apex LWC Salesforce"
		icon-name="standard:apps">
		<div class="slds-p-horizontal_small" if:true={isColumnsDataAvailable}>
			<lightning-datatable key-field="id" data={data} columns={columns} onrowaction={handleRowActions}>
			</lightning-datatable>
		</div>
	</lightning-card>


</template>